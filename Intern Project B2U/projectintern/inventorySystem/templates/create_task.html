<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create New Task - Beyond2U</title>
    <style>
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background-color: #f4f6fa; }
        .sidebar { position: fixed; left: 0; top: 0; width: 220px; height: 100%; background-color: #004aad; color: white; padding: 20px; }
        .sidebar h2 { margin-bottom: 40px; font-size: 22px; text-align: center; }
        .sidebar a { display: block; color: white; text-decoration: none; padding: 12px 10px; border-radius: 8px; margin-bottom: 10px; transition: background 0.3s; }
        .sidebar a:hover { background-color: #003080; }
        .content { margin-left: 240px; padding: 30px; }
        h1 { color: #004aad; margin-bottom: 20px; }
        form { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-width: 600px; }
        label { display: block; margin-top: 15px; margin-bottom: 5px; font-weight: bold; }
        input[type="text"], select, input[type="file"], textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }
        textarea { resize: vertical; }
        button { margin-top: 20px; padding: 12px 20px; background-color: #004aad; color: white; border: none; border-radius: 8px; cursor: pointer; transition: 0.3s; }
        button:hover { background-color: #003080; }
        a.back-link { display: inline-block; margin-top: 15px; color: #004aad; text-decoration: none; font-weight: bold; transition: 0.3s; }
        a.back-link:hover { color: #003080; }
        .task-header { margin-bottom: 20px; font-size: 18px; font-weight: bold; color: #004aad; white-space: pre-line; }
    </style>
    <script>
        function updateHeader() {
            const select = document.getElementById('task_type');
            const header = document.getElementById('form_header');
            const type = select.value;
            let text = '';
            if(type === 'Tech Refresh') text = 'Tech Refresh Replacements\n(Tech Refresh)';
            else if(type === 'Asset Refresh') text = 'Asset Refresh Replacements\n(Asset Refresh)';
            else if(type === 'Parts Upgrade') text = 'Parts Upgrade Replacements\n(Parts Upgrade)';
            header.innerText = text;
        }
    </script>
</head>
<body>

<div class="sidebar">
    <h2>Beyond2U</h2>
    <a href="{% url 'systemengineer_dashboard' %}">üè† Dashboard</a>
    <a href="{% url 'create_task' %}">‚ûï Create Task</a>
    <a href="{% url 'my_submissions' %}">üìÑ My Submissions</a>
    <a href="{% url 'notifications' %}">üîî Notifications</a>
    <a href="{% url 'logout' %}">üö™ Logout</a>
</div>

<div class="content">
    <h1>Create New Task</h1>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <label>Task Type:</label>
        <select name="task_type" id="task_type" onchange="updateHeader()" required>
            <option value="Tech Refresh">Tech Refresh</option>
            <option value="Asset Refresh">Asset Refresh</option>
            <option value="Parts Upgrade">Parts Upgrade</option>
        </select>

        <div class="task-header" id="form_header">
Tech Refresh Replacements
(Tech Refresh)
        </div>

        <label>Engineer Name:</label>
        <input type="text" name="engineer_name" placeholder="Enter engineer name" required>

        <label>User Name:</label>
        <input type="text" name="user_name" placeholder="Enter user name" required>

        <label>Location:</label>
        <input type="text" name="location" placeholder="Enter location" required>

        <label>Old Hostname:</label>
        <input type="text" name="old_hostname" placeholder="Enter old hostname">

        <label>New Hostname:</label>
        <input type="text" name="new_hostname" placeholder="Enter new hostname">

        <label>Old Serial Number:</label>
        <input type="text" name="old_serial_number" placeholder="Enter old serial number">

        <label>New Serial Number:</label>
        <input type="text" name="new_serial_number" placeholder="Enter new serial number">

        <label>Status:</label>
        <input type="text" name="status" placeholder="Enter status (e.g., Done)">

        <label>Date (If rescheduled):</label>
        <input type="text" name="date_if_rescheduled" placeholder="Enter date if rescheduled">

        <label>Format Status:</label>
        <input type="text" name="format_status" placeholder="Enter format status">

        <label>Reason (If haven't formatted):</label>
        <input type="text" name="reason_not_formatted" placeholder="Enter reason if not formatted">

        <label>Upload Status:</label>
        <input type="text" name="upload_status" placeholder="Enter upload status">

        <label>Reason (If haven't uploaded):</label>
        <input type="text" name="reason_not_uploaded" placeholder="Enter reason if not uploaded">

        <label>Remarks if any:</label>
        <textarea name="remarks" rows="3" placeholder="Enter remarks"></textarea>

        <button type="submit">Submit Task</button>
    </form>

    <a href="{% url 'systemengineer_dashboard' %}" class="back-link">‚Üê Back to Dashboard</a>
</div>

</body>
</html>
